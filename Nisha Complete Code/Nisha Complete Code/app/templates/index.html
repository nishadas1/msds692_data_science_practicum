{% extends "base.html" %}

{% block title %}Dashboard - Financial Forecasting{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-3 fw-bold mb-3">
                    <i class="bi bi-graph-up-arrow"></i> Financial Forecasting Dashboard
                </h1>
                <p class="lead mb-4">Advanced Cryptocurrency vs Stock Market Analysis & Prediction</p>
                <div class="d-flex gap-3 justify-content-center flex-wrap">
                    <span class="badge bg-light text-dark px-4 py-2">
                        <i class="bi bi-cpu"></i> AI-Powered
                    </span>
                    <span class="badge bg-light text-dark px-4 py-2">
                        <i class="bi bi-clock-history"></i> Real-time Data
                    </span>
                    <span class="badge bg-light text-dark px-4 py-2">
                        <i class="bi bi-graph-up"></i> ARIMA & LSTM
                    </span>
                </div>
                <p class="mt-3 mb-0 opacity-75">
                    <i class="bi bi-calendar-range"></i> Data Range: {{ date_range }}
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Summary Statistics Cards -->
<div class="row mb-4 mt-n5">
    <div class="col-md-4 mb-3">
        <div class="card stat-card primary h-100">
            <div class="card-body text-center">
                <div class="feature-icon mb-3" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                    <i class="bi bi-currency-bitcoin"></i>
                </div>
                <div class="stat-value">{{ total_cryptos }}</div>
                <div class="stat-label mb-3">Cryptocurrencies</div>
                <div class="d-flex gap-2 justify-content-center flex-wrap">
                    {% for name in crypto_names %}
                    <span class="badge" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); font-size: 0.9rem; padding: 0.5rem 1rem;">{{ name }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="card stat-card success h-100">
            <div class="card-body text-center">
                <div class="feature-icon mb-3" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <i class="bi bi-cash-stack"></i>
                </div>
                <div class="stat-value">{{ total_stocks }}</div>
                <div class="stat-label mb-3">Stock Tickers</div>
                <div class="d-flex gap-2 justify-content-center flex-wrap">
                    {% for name in stock_names %}
                    <span class="badge" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); font-size: 0.9rem; padding: 0.5rem 1rem;">{{ name }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="card stat-card warning h-100">
            <div class="card-body text-center">
                <div class="feature-icon mb-3" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                    <i class="bi bi-calendar-range"></i>
                </div>
                <div class="stat-value">5</div>
                <div class="stat-label mb-3">Years of Data</div>
                <div class="mt-2">
                    <span class="badge bg-secondary" style="font-size: 0.95rem; padding: 0.5rem 1.5rem;">2020-2025</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Latest Prices -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header d-flex align-items-center justify-content-between">
                <span>
                    <i class="bi bi-graph-up"></i> Latest Asset Prices
                </span>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead>
                            <tr>
                                <th><i class="bi bi-tag"></i> Asset</th>
                                <th><i class="bi bi-building"></i> Full Name</th>
                                <th><i class="bi bi-collection"></i> Type</th>
                                <th class="text-end"><i class="bi bi-currency-dollar"></i> Latest Price (USD)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for name in crypto_names %}
                            {% if name in latest_prices %}
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        {% if name == 'BTC' %}
                                        <div class="feature-icon me-2" style="width: 40px; height: 40px; font-size: 1.2rem; background: linear-gradient(135deg, #f7931a 0%, #f7931a 100%);">
                                            <i class="bi bi-currency-bitcoin"></i>
                                        </div>
                                        {% elif name == 'ETH' %}
                                        <div class="feature-icon me-2" style="width: 40px; height: 40px; font-size: 1.2rem; background: linear-gradient(135deg, #627eea 0%, #627eea 100%);">
                                            <i class="bi bi-gem"></i>
                                        </div>
                                        {% elif name == 'BNB' %}
                                        <div class="feature-icon me-2" style="width: 40px; height: 40px; font-size: 1.2rem; background: linear-gradient(135deg, #f3ba2f 0%, #f3ba2f 100%);">
                                            <i class="bi bi-hexagon-fill"></i>
                                        </div>
                                        {% endif %}
                                        <strong style="font-size: 1.1rem;">{{ name }}</strong>
                                    </div>
                                </td>
                                <td class="text-muted">
                                    {% if name == 'BTC' %}Bitcoin
                                    {% elif name == 'ETH' %}Ethereum
                                    {% elif name == 'BNB' %}Binance Coin
                                    {% endif %}
                                </td>
                                <td><span class="badge" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); padding: 0.5rem 1rem;">Cryptocurrency</span></td>
                                <td class="text-end"><strong style="font-size: 1.1rem; color: #667eea;">${{ "{:,.2f}".format(latest_prices[name].price) }}</strong></td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                            
                            {% for name in stock_names %}
                            {% if name in latest_prices %}
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        {% if name == 'AAPL' %}
                                        <div class="feature-icon me-2" style="width: 40px; height: 40px; font-size: 1.2rem; background: linear-gradient(135deg, #555555 0%, #000000 100%); color: white;">
                                            <i class="bi bi-apple"></i>
                                        </div>
                                        {% elif name == 'TSLA' %}
                                        <div class="feature-icon me-2" style="width: 40px; height: 40px; font-size: 1.2rem; background: linear-gradient(135deg, #e82127 0%, #e82127 100%);">
                                            <i class="bi bi-lightning-charge-fill"></i>
                                        </div>
                                        {% elif name == 'MSFT' %}
                                        <div class="feature-icon me-2" style="width: 40px; height: 40px; font-size: 1.2rem; background: linear-gradient(135deg, #00a4ef 0%, #00a4ef 100%);">
                                            <i class="bi bi-windows"></i>
                                        </div>
                                        {% endif %}
                                        <strong style="font-size: 1.1rem;">{{ name }}</strong>
                                    </div>
                                </td>
                                <td class="text-muted">
                                    {% if name == 'AAPL' %}Apple Inc.
                                    {% elif name == 'TSLA' %}Tesla, Inc.
                                    {% elif name == 'MSFT' %}Microsoft Corp.
                                    {% endif %}
                                </td>
                                <td><span class="badge" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 0.5rem 1rem;">Stock</span></td>
                                <td class="text-end"><strong style="font-size: 1.1rem; color: #4facfe;">${{ "{:,.2f}".format(latest_prices[name].price) }}</strong></td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Links -->
<div class="row mb-4">
    <div class="col-md-4 mb-3">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="bi bi-bar-chart-fill"></i>
            </div>
            <h3>Exploratory Analysis</h3>
            <p>Visualize trends, correlations, volatility patterns, and price distributions across all assets</p>
            <a href="/eda" class="btn btn-primary">
                <i class="bi bi-arrow-right-circle"></i> View Analysis
            </a>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="feature-card">
            <div class="feature-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <i class="bi bi-graph-up"></i>
            </div>
            <h3>Price Forecasting</h3>
            <p>Get 30-day price predictions powered by advanced ARIMA and LSTM machine learning models</p>
            <a href="/forecast" class="btn btn-success">
                <i class="bi bi-arrow-right-circle"></i> View Forecasts
            </a>
        </div>
    </div>
    
    <div class="col-md-4 mb-3">
        <div class="feature-card">
            <div class="feature-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                <i class="bi bi-diagram-3-fill"></i>
            </div>
            <h3>Model Comparison</h3>
            <p>Compare ARIMA vs LSTM model performance with detailed metrics across all assets</p>
            <a href="/compare" class="btn btn-warning">
                <i class="bi bi-arrow-right-circle"></i> Compare Models
            </a>
        </div>
    </div>
</div>
{% endblock %}
